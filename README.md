**Patchrom Build Process**
==========================

* Get Android SDK
------------------

In order to build patchrom project, you must have android sdk installed.(http://developer.android.com/sdk/installing.html)

And add the sdk tools and platform-tools to PATH.

    nano .bashrc
    export PATH=$PATH:/home/xxx/android-sdk/tools:/home/xxx/anroid-sdk/platform-tools

* Get base Code
----------------

* Create a directory for MIUI Patchrom (you can choose whichever directory you prefer). Once you `cd` in that directory:


   `mkdir Patchrom`
    
    `cd Patchrom`



* Initialize and sync MICode repo:

    `repo init -u git://github.com/MiCode/patchrom.git -b v6-kitkat`
    
    `repo sync`

* Get Nexus 4 (mako) code (or in other words, this repository)
---------------------------------------------------------------

* Create a directory for Nexus 4 and switch to it

   `mkdir nexus4`
   
   `cd nexus4`

* Get this repository

   `git clone https://github.com/Jaskaranbir/MIUI_Patchrom-Nexus4.git -b v6-kitkat`

* Building the ROM
-------------------

* Include the base build files

    `source ../build/envsetup.sh`

* Build the ROM

   `cd nexus4`
   
   `make fullota`

You will get the flashable zip "fullota.zip" inside the `out` folder. But do not flash this yet. We still need to do some minor fixes to get the ROM in basic working conditions.

**Do not close the Terminal yet**

* Applying fixes
----------------

* After `fullota` has completed, we need to apply the updater-script fix so it sets permissions properly. This is because the updater script generated by default doesn't set the permissions correctly (for some reason) and you may end up having no bootanimation, no wifi, no mobile network etc due to that. To apply the fix, simply run the command in terminal:

   `sh fixes.sh`

================
After above, you can flash the `fullota.zip` in recovery. Make sure you have radio that supports 4.4.4 android version. And **Backup First**.

Good Luck

=========
*Credits*

Jaskaranbir Singh (Me)

MIUI (for their MiCode)

Google (for Android)
